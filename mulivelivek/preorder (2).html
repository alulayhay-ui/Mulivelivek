<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Mulivelivek åˆé¹¿éƒ¨è½ï½œè¡£æœé è³¼</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #f7f3ec;
      --bg-soft: #fffdf8;
      --card: #ffffff;
      --border: #e3ddcf;
      --accent: #c58543;
      --accent-dark: #92572a;
      --text: #2f2415;
      --muted: #7b6d5c;
      --danger: #c43c3c;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* é ‚éƒ¨å°è¦½åˆ— */
    .site-header {
      background: #ffffffee;
      backdrop-filter: blur(6px);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .header-inner {
      max-width: 1080px;
      margin: 0 auto;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-mark {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: radial-gradient(circle at 30% 20%, #f5d7a1, #c58b4a);
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      line-height: 1.1;
    }

    .brand-text-main {
      font-size: 1.05rem;
      font-weight: 600;
    }

    .brand-text-sub {
      font-size: 0.75rem;
      color: var(--muted);
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    .header-nav {
      display: flex;
      align-items: center;
      gap: 16px;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .header-nav a:hover {
      color: var(--accent-dark);
    }

    .header-cart-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: var(--bg-soft);
      font-size: 0.8rem;
      cursor: pointer;
    }

    .header-cart-count {
      min-width: 18px;
      height: 18px;
      border-radius: 999px;
      background: var(--accent);
      color: #fff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
    }

    /* ä¸»å…§å®¹ */
    .page {
      max-width: 1080px;
      margin: 0 auto;
      padding: 20px 16px 40px;
    }

    .breadcrumb {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .breadcrumb span {
      opacity: 0.9;
    }

    .page-title {
      margin: 0 0 4px;
      font-size: 1.5rem;
      font-weight: 600;
    }

    .page-subtitle {
      margin: 0 0 18px;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.1fr);
      gap: 24px;
      align-items: flex-start;
    }

    /* å·¦é‚Šï¼šå•†å“å±•ç¤º */
    .product-card {
      background: var(--card);
      border-radius: 14px;
      border: 1px solid var(--border);
      overflow: hidden;
    }

    .product-image-wrap {
      background: #e5ded1;
      position: relative;
      padding-top: 75%;
    }

    .product-image-inner {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      color: #4c4032;
      padding: 12px;
      text-align: center;
    }

    .product-body {
      padding: 14px 16px 16px;
    }

    .product-name {
      margin: 0 0 4px;
      font-size: 1rem;
      font-weight: 600;
    }

    .product-tagline {
      margin: 0 0 10px;
      font-size: 0.82rem;
      color: var(--muted);
    }

    .product-price {
      font-size: 1rem;
      font-weight: 600;
      color: var(--accent-dark);
    }

    .product-price small {
      font-size: 0.8rem;
      color: var(--muted);
      font-weight: 400;
      margin-left: 4px;
    }

    .product-note {
      margin-top: 8px;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .product-note strong {
      color: var(--accent-dark);
    }

    /* å³é‚Šï¼šè¡¨å–® & è³¼ç‰©è»Š */
    .panel {
      background: var(--card);
      border-radius: 14px;
      border: 1px solid var(--border);
      padding: 16px 16px 14px;
    }

    .panel + .panel {
      margin-top: 12px;
    }

    .panel-title {
      margin: 0 0 10px;
      font-size: 0.95rem;
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: var(--accent-dark);
    }

    .panel-title span {
      letter-spacing: 0;
      text-transform: none;
      font-weight: 400;
      margin-left: 4px;
      color: var(--muted);
      font-size: 0.8rem;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.9rem;
      margin-bottom: 10px;
    }

    label {
      font-weight: 500;
    }

    label .required {
      color: var(--danger);
      margin-left: 2px;
    }

    input[type="text"],
    input[type="tel"],
    input[type="number"],
    select,
    textarea {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: #fffdf9;
      color: var(--text);
      font: inherit;
      outline: none;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
    }

    input::placeholder,
    textarea::placeholder {
      color: #b3a695;
    }

    input:focus,
    select:focus,
    textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(197, 133, 67, 0.25);
      background: #fff;
    }

    .helper {
      font-size: 0.75rem;
      color: var(--muted);
    }

    .inline-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .inline-row .field {
      flex: 1 1 0;
    }

    .size-options {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .chip {
      position: relative;
    }

    .chip input {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .chip label {
      border-radius: 999px;
      padding: 5px 11px;
      border: 1px solid var(--border);
      font-size: 0.8rem;
      cursor: pointer;
      color: var(--muted);
      background: #fffdf9;
      transition: all 0.15s ease;
    }

    .chip input:checked + label {
      color: #fff;
      background: var(--accent-dark);
      border-color: var(--accent-dark);
    }

    .btn {
      border-radius: 999px;
      border: 1px solid var(--accent);
      padding: 8px 14px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      background: var(--accent);
      color: #fff;
      transition: background 0.12s ease, color 0.12s ease, border-color 0.12s ease, transform 0.08s ease;
    }

    .btn:hover {
      background: var(--accent-dark);
      border-color: var(--accent-dark);
      transform: translateY(-1px);
    }

    .btn-ghost {
      background: #fffdf9;
      color: var(--muted);
      border-color: var(--border);
    }

    .btn-ghost:hover {
      background: #f0e7d9;
      color: var(--accent-dark);
      border-color: var(--accent-dark);
    }

    .btn-danger {
      background: transparent;
      color: var(--danger);
      border-color: rgba(196, 60, 60, 0.5);
      font-size: 0.78rem;
      padding: 4px 9px;
      cursor: pointer;
    }

    .btn-danger:hover {
      background: #fbe7e7;
      border-color: var(--danger);
    }

    .error {
      color: var(--danger);
      font-size: 0.78rem;
      margin-top: 4px;
      display: none;
    }

    /* è³¼ç‰©è»Šæ¨£å¼ */
    .cart-empty {
      font-size: 0.8rem;
      color: var(--muted);
      padding: 4px 0;
    }

    .cart-table-wrapper {
      display: none;
      border-top: 1px solid var(--border);
      padding-top: 6px;
      margin-top: 4px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.8rem;
    }

    th,
    td {
      padding: 6px 4px;
      text-align: left;
      vertical-align: top;
    }

    th {
      color: var(--muted);
      font-weight: 500;
      border-bottom: 1px solid var(--border);
    }

    tr + tr td {
      border-top: 1px solid #f0eae0;
    }

    .cart-summary {
      margin-top: 4px;
      text-align: right;
      font-size: 0.78rem;
      color: var(--muted);
    }

    .cart-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .cart-footer-note {
      font-size: 0.75rem;
      color: var(--muted);
    }

    .page-footer-text {
      margin-top: 18px;
      font-size: 0.78rem;
      color: var(--muted);
      text-align: center;
    }

    @media (max-width: 860px) {
      .layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 600px) {
      .header-inner {
        flex-wrap: wrap;
        align-items: flex-start;
      }
      .header-nav {
        width: 100%;
        justify-content: flex-end;
      }
    }

    /* ---------- ğŸ›’ Side Cart ---------- */
    .sidecart-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(2px);
      display: none;
      z-index: 20;
    }

    .sidecart {
      position: fixed;
      top: 0;
      right: -340px;
      width: 320px;
      height: 100vh;
      background: #ffffff;
      border-left: 1px solid #e3ddcf;
      box-shadow: -4px 0 12px rgba(0,0,0,0.1);
      transition: right 0.28s ease;
      z-index: 30;
      display: flex;
      flex-direction: column;
    }

    .sidecart.open {
      right: 0;
    }

    .sidecart-overlay.show {
      display: block;
    }

    .sidecart-header {
      padding: 14px 16px;
      font-size: 1rem;
      font-weight: 600;
      border-bottom: 1px solid #e3ddcf;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .sidecart-close {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #7b6d5c;
    }

    .sidecart-content {
      padding: 16px;
      overflow-y: auto;
      flex: 1;
    }

    .sidecart-empty {
      color: #7b6d5c;
      font-size: 0.85rem;
    }

    .sidecart-item {
      border-bottom: 1px solid #f0eae0;
      padding: 10px 0;
    }

    .sidecart-item-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: #2f2415;
    }

    .sidecart-item-detail {
      font-size: 0.8rem;
      color: #7b6d5c;
      margin: 4px 0;
    }

    .sidecart-remove {
      background: none;
      border: none;
      font-size: 0.8rem;
      color: #c43c3c;
      cursor: pointer;
      padding: 4px 0;
    }

    .sidecart-footer {
      padding: 12px;
      border-top: 1px solid #e3ddcf;
    }

    .sidecart-checkout-btn {
      width: 100%;
      padding: 10px 14px;
      border-radius: 6px;
      border: none;
      background: #c58543;
      color: #fff;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
    }

    .sidecart-checkout-btn:hover {
      background: #a56b34;
    }
  </style>
</head>
<body>
  <!-- é ‚éƒ¨ -->
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <div class="brand-mark"></div>
        <div class="brand-text">
          <div class="brand-text-main">Mulivelivek åˆé¹¿éƒ¨è½</div>
          <div class="brand-text-sub">'inavayan Â· since 2025</div>
        </div>
      </div>
      <nav class="header-nav">
        <a href="index.html">é¦–é </a>
        <a href="#">æ‰€æœ‰å•†å“</a>
        <a href="#">æœ€æ–°æ¶ˆæ¯</a>
        <span class="header-cart-pill">
          è³¼ç‰©è»Š
          <span class="header-cart-count" id="headerCartCount">0</span>
        </span>
      </nav>
    </div>
  </header>

  <!-- ä¸»é é¢ -->
  <main class="page">
    <div class="breadcrumb">
      <span>é¦–é </span> ï¼ <span>è¡£æœé è³¼</span>
    </div>
    <h1 class="page-title">åˆé¹¿éƒ¨è½é™å®šé•·è¢–é è³¼</h1>
    <p class="page-subtitle">
      æ­¤é ç‚ºé è³¼å°ˆç”¨é é¢ï¼Œå…ˆå°‡æƒ³è¦çš„æ¬¾å¼èˆ‡å°ºå¯¸åŠ å…¥è³¼ç‰©è»Šï¼Œç¢ºèªç„¡èª¤å¾Œå†ä¸€æ¬¡å¡«å¯«è³‡æ–™ä¸¦é€å‡ºè¨‚å–®ã€‚
    </p>

    <div class="layout">
      <!-- å·¦ï¼šå•†å“å±•ç¤º -->
      <section class="product-card">
        <div class="product-image-wrap">
          <div class="product-image-inner">
            é€™è£¡å¯ä»¥æ›æˆå•†å“ç…§ç‰‡ï¼ˆä¾‹å¦‚ï¼šåˆé¹¿éƒ¨è½å¹´ç¥­é™å®šé•·è¢–ï¼‰ã€‚<br />
            è‹¥ä½ ä¹‹å¾Œè¦ä¸Šåœ–ï¼Œåªè¦æŠŠé€™å€‹å€å¡Šæ”¹æˆ &lt;img&gt; å³å¯ã€‚
          </div>
        </div>
        <div class="product-body">
          <h2 class="product-name">åˆé¹¿éƒ¨è½å¹´ç¥­é™å®šæ°´æ´—é•·è¢–ï½œMULIVELIVEK é™å®šæ¬¾</h2>
          <p class="product-tagline">
            ä»¥åˆé¹¿å¤§åœ°è‰²ç‚ºä¸»èª¿ï¼Œæ­é…éƒ¨è½åœ–é¨°ç´°ç¯€ï¼Œç´€éŒ„ä»Šå¹´çš„ç›¸èšæ™‚åˆ»ã€‚
          </p>
          <div class="product-price">
            NT$ 450
            <small>é è³¼åƒ¹ï¼ˆå¯¦éš›åƒ¹æ ¼è«‹ä¾å…¬å‘Šç‚ºä¸»ï¼‰</small>
          </div>
          <p class="product-note">
            <strong>é è¨ˆå‡ºè²¨ï¼š</strong> 2026 / 01 ä¸‹æ—¬å·¦å³ï¼Œä¾å·¥å» æ’å–®ç‚ºä¸»ã€‚<br />
            è‹¥æœ‰ delay æœƒæ–¼ IG / LINE å®˜æ–¹å¸³è™Ÿå…¬å‘Šä¸¦ä¸»å‹•é€šçŸ¥ã€‚
          </p>
        </div>
      </section>

      <!-- å³ï¼šè¡¨å–® + è³¼ç‰©è»Š -->
      <section>
        <!-- 1. è³¼è²·äººè³‡æ–™ -->
        <form id="orderForm" action="#" method="post">
          <div class="panel">
            <h3 class="panel-title">
              1. è³¼è²·äººè³‡æ–™
              <span>æ•´å¼µè¨‚å–®åªéœ€å¡«ä¸€æ¬¡</span>
            </h3>
            <div class="inline-row">
              <div class="field">
                <label for="buyerName">å§“å<span class="required">*</span></label>
                <input id="buyerName" name="buyerName" type="text" placeholder="è«‹è¼¸å…¥çœŸå¯¦å§“å" required>
              </div>
              <div class="field">
                <label for="buyerContact">è¯çµ¡æ–¹å¼<span class="required">*</span></label>
                <input id="buyerContact" name="buyerContact" type="text" placeholder="é›»è©±æˆ– IG å¸³è™Ÿ" required>
                <div class="helper">ä¾‹ï¼š0900-000000 / @your_ig_name</div>
              </div>
            </div>
            <div class="inline-row">
              <div class="field">
                <label for="buyerRegion">åœ°å€</label>
                <input id="buyerRegion" name="buyerRegion" type="text" placeholder="ä¾‹ï¼šå°æ±åˆé¹¿ / æ¡ƒåœ’ä¸­å£¢">
              </div>
              <div class="field">
                <label for="shipping">å–è²¨æ–¹å¼<span class="required">*</span></label>
                <select id="shipping" name="shipping" required>
                  <option value="">è«‹é¸æ“‡å–è²¨æ–¹å¼</option>
                  <option value="store">è¶…å•†å–è²¨ï¼ˆ7-11 / å…¨å®¶ï¼‰</option>
                  <option value="face">æ´»å‹•ç¾å ´ / éƒ¨è½é¢äº¤</option>
                </select>
                <div class="helper">é¸æ“‡è¶…å•†å–è²¨è€…ï¼Œä¹‹å¾Œæœƒå†èˆ‡æ‚¨ç¢ºèªé–€å¸‚è³‡è¨Šã€‚</div>
              </div>
            </div>

            <!-- ä»˜æ¬¾æ–¹å¼ + åŒ¯æ¬¾å¾Œäº”ç¢¼ -->
            <div class="field">
              <label for="payment">ä»˜æ¬¾æ–¹å¼<span class="required">*</span></label>
              <select id="payment" name="payment" required>
                <option value="">è«‹é¸æ“‡ä»˜æ¬¾æ–¹å¼</option>
                <option value="transfer">åŒ¯æ¬¾ï¼ˆATM / ç¶²éŠ€è½‰å¸³ï¼‰</option>
              </select>
              <div class="helper">
                å®ŒæˆåŒ¯æ¬¾å¾Œè«‹å›å ±å¸³è™Ÿæœ«äº”ç¢¼ï¼Œæˆ‘å€‘ç¢ºèªæ¬¾é …å¾Œæœƒå®‰æ’å‡ºè²¨ã€‚
              </div>
            </div>

            <div class="field" id="transferCodeField" style="display:none;">
              <label for="transferCode">åŒ¯æ¬¾å¾Œäº”ç¢¼<span class="required">*</span></label>
              <input id="transferCode" name="transferCode" type="text" maxlength="5" placeholder="è«‹è¼¸å…¥åŒ¯æ¬¾å¸³è™Ÿå¾Œäº”ç¢¼">
              <div class="helper">å®ŒæˆåŒ¯æ¬¾å¾Œè«‹å›å ±å¸³è™Ÿå¾Œäº”ç¢¼ï¼Œæˆ‘å€‘ç¢ºèªæ¬¾é …å¾Œæœƒå®‰æ’å‡ºè²¨ã€‚</div>
            </div>
          </div>

          <!-- 2. å–®ä»¶å•†å“åŠ å…¥è³¼ç‰©è»Š -->
          <div class="panel">
            <h3 class="panel-title">
              2. é¸æ“‡å•†å“åŠ å…¥è³¼ç‰©è»Š
              <span>å¯é‡è¤‡åŠ å…¥å¤šä»¶</span>
            </h3>
            <div class="inline-row">
              <div class="field">
                <label for="style">æ¬¾å¼<span class="required">*</span></label>
                <select id="style">
                  <option value="">è«‹é¸æ“‡æ¬¾å¼</option>
                  <option value="A. å¹´ç¥­é™å®šé•·è¢–ï¼ˆæ°´æ´—é»‘ï¼‰">A. å¹´ç¥­é™å®šé•·è¢–ï¼ˆæ°´æ´—é»‘ï¼‰</option>
                  <option value="B. å¹´ç¥­é™å®šé•·è¢–ï¼ˆéœ§ç™½ï¼‰">B. å¹´ç¥­é™å®šé•·è¢–ï¼ˆéœ§ç™½ï¼‰</option>
                  <option value="C. éƒ¨è½æ—¥å¸¸é•·è¢–ï¼ˆå¤§åœ°æ£•ï¼‰">C. éƒ¨è½æ—¥å¸¸é•·è¢–ï¼ˆå¤§åœ°æ£•ï¼‰</option>
                </select>
              </div>
              <div class="field">
                <label for="color">é¡è‰²</label>
                <select id="color">
                  <option value="">è«‹é¸æ“‡é¡è‰²ï¼ˆå¦‚é©ç”¨ï¼‰</option>
                  <option value="æ°´æ´—é»‘">æ°´æ´—é»‘</option>
                  <option value="éœ§ç™½">éœ§ç™½</option>
                  <option value="å¤§åœ°æ£•">å¤§åœ°æ£•</option>
                </select>
              </div>
              <div class="field">
                <label for="quantity">æ•¸é‡<span class="required">*</span></label>
                <input id="quantity" type="number" min="1" value="1">
              </div>
            </div>

            <div class="field">
              <label>å°ºå¯¸<span class="required">*</span></label>
              <div class="size-options">
                <div class="chip">
                  <input type="radio" id="size-xs" name="size" value="XS">
                  <label for="size-xs">XS</label>
                </div>
                <div class="chip">
                  <input type="radio" id="size-s" name="size" value="S">
                  <label for="size-s">S</label>
                </div>
                <div class="chip">
                  <input type="radio" id="size-m" name="size" value="M">
                  <label for="size-m">M</label>
                </div>
                <div class="chip">
                  <input type="radio" id="size-l" name="size" value="L">
                  <label for="size-l">L</label>
                </div>
                <div class="chip">
                  <input type="radio" id="size-xl" name="size" value="XL">
                  <label for="size-xl">XL</label>
                </div>
                <div class="chip">
                  <input type="radio" id="size-2xl" name="size" value="2XL">
                  <label for="size-2xl">2XL</label>
                </div>
              </div>
              <div class="helper">è‹¥ä¸ç¢ºå®šå°ºå¯¸ï¼Œå»ºè­°ä»¥å¹³é‡è¡£æœæ¯”è¼ƒï¼Œæˆ–ç§è¨Šè©¢å•ã€‚</div>
            </div>

            <div class="field">
              <label for="itemNote">æ­¤ä»¶å‚™è¨»</label>
              <textarea id="itemNote" rows="2" placeholder="ä¾‹å¦‚ï¼šé€äººã€å’Œæœ‹å‹ä¸€èµ·å¯„ã€ç‰¹æ®Šéœ€æ±‚â€¦"></textarea>
            </div>

            <button type="button" class="btn" id="addToCartBtn">
              ï¼‹ åŠ å…¥è³¼ç‰©è»Š
            </button>
            <div id="itemError" class="error">
              è«‹ç¢ºèªæ¬¾å¼ã€å°ºå¯¸èˆ‡æ•¸é‡çš†å·²å¡«å¯«ã€‚
            </div>
          </div>

          <!-- 3. è³¼ç‰©è»Š -->
          <div class="panel">
            <h3 class="panel-title">
              3. è³¼ç‰©è»Š
              <span>ç¢ºèªæ‰€æœ‰é è³¼å“é …</span>
            </h3>
            <div id="cartEmpty" class="cart-empty">
              ç›®å‰å°šæœªåŠ å…¥ä»»ä½•å•†å“ï¼Œè«‹å…ˆåœ¨ä¸Šæ–¹é¸æ“‡æ¬¾å¼èˆ‡å°ºå¯¸å¾Œé»ã€ŒåŠ å…¥è³¼ç‰©è»Šã€ã€‚
            </div>
            <div class="cart-table-wrapper" id="cartTableWrapper">
              <table>
                <thead>
                  <tr>
                    <th>#</th>
                    <th>æ¬¾å¼ / é¡è‰²</th>
                    <th>å°ºå¯¸</th>
                    <th>æ•¸é‡</th>
                    <th>å‚™è¨»</th>
                    <th>æ“ä½œ</th>
                  </tr>
                </thead>
                <tbody id="cartBody"></tbody>
              </table>
              <div class="cart-summary" id="cartSummary">å…± 0 ä»¶</div>
              <div class="cart-footer">
                <button type="button" class="btn-ghost btn" id="clearCartBtn">
                  æ¸…ç©ºè³¼ç‰©è»Š
                </button>
                <div class="cart-footer-note">
                  è‹¥è¦è¿½åŠ ä¸åŒæ¬¾å¼ / å°ºå¯¸ï¼Œè«‹å›ä¸Šæ–¹ç¹¼çºŒåŠ å…¥è³¼ç‰©è»Šã€‚
                </div>
              </div>
            </div>
            <input type="hidden" name="cartData" id="cartData">
          </div>

          <!-- 4. å‚™è¨»èˆ‡é€å‡º -->
          <div class="panel">
            <h3 class="panel-title">
              4. ç¢ºèªä¸¦é€å‡ºé è³¼å–®
            </h3>
            <div class="field">
              <label for="orderNote">çµ¦æˆ‘å€‘çš„è©± / å…¶ä»–å‚™è¨»</label>
              <textarea id="orderNote" name="orderNote" rows="3" placeholder="ä¾‹å¦‚ï¼šå¸Œæœ›åŒä¸€ç®±å¯„å‡ºã€ç™¼ç¥¨éœ€æ±‚ã€æˆ–å…¶ä»–æƒ³èªªçš„è©±ã€‚"></textarea>
            </div>
            <div id="formError" class="error">
              é€å‡ºå‰è«‹ç¢ºèªï¼šè³¼ç‰©è»Šå…§è‡³å°‘æœ‰ä¸€ä»¶å•†å“ï¼Œä¸”å§“åã€è¯çµ¡æ–¹å¼èˆ‡å–è²¨æ–¹å¼å·²å¡«å¯«ã€‚
            </div>
            <div class="cart-footer">
              <button class="btn" type="submit">
                é€å‡ºé è³¼è¨‚å–®
              </button>
              <div class="cart-footer-note">
                é€å‡ºå¾Œå»ºè­°æˆªåœ–ç•™å­˜ï¼Œæ—¥å¾Œè‹¥æœ‰ç–‘å•å¯å”åŠ©å°å–®ã€‚
              </div>
            </div>
          </div>
        </form>

        <p class="page-footer-text">
          æ­¤é é¢åƒ…ç‚ºé è³¼è³‡è¨Šå½™æ•´ç¤ºæ„ï¼Œå¯¦éš›ä»˜æ¬¾ / å¯„é€æ–¹å¼ä¾ Mulivelivek å®˜æ–¹å…¬å‘Šç‚ºä¸»ã€‚
        </p>
      </section>
    </div>
  </main>

  <!-- ğŸ›’ å´é‚Šè³¼ç‰©è»Š -->
  <div id="sideCartOverlay" class="sidecart-overlay"></div>
  <div id="sideCart" class="sidecart">
    <div class="sidecart-header">
      <span>è³¼ç‰©è»Š</span>
      <button id="sideCartClose" class="sidecart-close">Ã—</button>
    </div>

    <div id="sideCartContent" class="sidecart-content">
      <p class="sidecart-empty">ç›®å‰æ²’æœ‰ä»»ä½•å•†å“ã€‚</p>
      <div id="sideCartList"></div>
    </div>

    <div class="sidecart-footer">
      <button id="goCheckout" class="sidecart-checkout-btn">
        å‰å¾€çµå¸³
      </button>
    </div>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const cart = [];
      const addBtn = document.getElementById('addToCartBtn');
      const clearBtn = document.getElementById('clearCartBtn');
      const cartBody = document.getElementById('cartBody');
      const cartEmpty = document.getElementById('cartEmpty');
      const cartTableWrapper = document.getElementById('cartTableWrapper');
      const cartSummary = document.getElementById('cartSummary');
      const cartDataInput = document.getElementById('cartData');
      const itemError = document.getElementById('itemError');
      const formError = document.getElementById('formError');
      const orderForm = document.getElementById('orderForm');
      const headerCartCount = document.getElementById('headerCartCount');

      const paymentSelect = document.getElementById('payment');
      const transferCodeField = document.getElementById('transferCodeField');
      const transferCodeInput = document.getElementById('transferCode');

      function getSelectedSize() {
        const radios = document.querySelectorAll('input[name="size"]');
        for (const r of radios) {
          if (r.checked) return r.value;
        }
        return null;
      }

      function updateHeaderCartCount(totalQty) {
        headerCartCount.textContent = totalQty;
      }

      function renderCart() {
        if (cart.length === 0) {
          cartEmpty.style.display = 'block';
          cartTableWrapper.style.display = 'none';
          cartBody.innerHTML = '';
          cartSummary.textContent = 'å…± 0 ä»¶';
          cartDataInput.value = '';
          updateHeaderCartCount(0);
          return;
        }

        cartEmpty.style.display = 'none';
        cartTableWrapper.style.display = 'block';
        cartBody.innerHTML = '';

        let totalQty = 0;
        cart.forEach((item, idx) => {
          totalQty += item.quantity;
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${idx + 1}</td>
            <td>${item.style}${item.color ? ' ï½œ ' + item.color : ''}</td>
            <td>${item.size}</td>
            <td>${item.quantity}</td>
            <td>${item.itemNote || ''}</td>
            <td>
              <button type="button" class="btn-danger" data-index="${idx}">ç§»é™¤</button>
            </td>
          `;
          cartBody.appendChild(tr);
        });

        cartSummary.textContent = `å…± ${totalQty} ä»¶ï¼ˆ${cart.length} ç­†å“é …ï¼‰`;
        cartDataInput.value = JSON.stringify(cart, null, 2);
        updateHeaderCartCount(totalQty);
      }

      addBtn.addEventListener('click', () => {
        itemError.style.display = 'none';

        const style = document.getElementById('style').value.trim();
        const color = document.getElementById('color').value.trim();
        const quantityValue = document.getElementById('quantity').value;
        const size = getSelectedSize();
        const itemNote = document.getElementById('itemNote').value.trim();
        const quantity = parseInt(quantityValue, 10);

        if (!style || !size || !quantity || quantity <= 0) {
          itemError.style.display = 'block';
          return;
        }

        cart.push({ style, color, size, quantity, itemNote });
        renderCart();

        document.getElementById('quantity').value = '1';
        document.getElementById('itemNote').value = '';
      });

      clearBtn.addEventListener('click', () => {
        if (cart.length === 0) return;
        if (!confirm('ç¢ºå®šè¦æ¸…ç©ºè³¼ç‰©è»Šå—ï¼Ÿ')) return;
        cart.length = 0;
        renderCart();
      });

      cartBody.addEventListener('click', e => {
        const btn = e.target;
        if (btn.matches('button[data-index]')) {
          const index = parseInt(btn.getAttribute('data-index'), 10);
          cart.splice(index, 1);
          renderCart();
        }
      });

      // ä»˜æ¬¾æ–¹å¼ â†’ é¡¯ç¤º / éš±è—åŒ¯æ¬¾å¾Œäº”ç¢¼
      paymentSelect.addEventListener('change', () => {
        if (paymentSelect.value === 'transfer') {
          transferCodeField.style.display = 'block';
        } else {
          transferCodeField.style.display = 'none';
          transferCodeInput.value = '';
        }
      });

      orderForm.addEventListener('submit', e => {
        formError.style.display = 'none';
        formError.textContent = 'é€å‡ºå‰è«‹ç¢ºèªï¼šè³¼ç‰©è»Šå…§è‡³å°‘æœ‰ä¸€ä»¶å•†å“ï¼Œä¸”å§“åã€è¯çµ¡æ–¹å¼èˆ‡å–è²¨æ–¹å¼å·²å¡«å¯«ã€‚';

        const buyerName = document.getElementById('buyerName').value.trim();
        const buyerContact = document.getElementById('buyerContact').value.trim();
        const shipping = document.getElementById('shipping').value.trim();
        const payment = paymentSelect.value.trim();

        if (!buyerName || !buyerContact || !shipping || !payment || cart.length === 0) {
          e.preventDefault();
          formError.style.display = 'block';
          return;
        }

        if (payment === 'transfer') {
          const code = transferCodeInput.value.trim();
          const isFiveDigits = /^[0-9]{5}$/.test(code);
          if (!isFiveDigits) {
            e.preventDefault();
            formError.style.display = 'block';
            formError.textContent = 'è«‹å¡«å¯«åŒ¯æ¬¾å¾Œäº”ç¢¼ï¼ˆ5 ä½æ•¸å­—ï¼‰ã€‚';
            return;
          }
        }

        e.preventDefault(); // ç¤ºç¯„ç”¨ï¼›è¦æ¥å¾Œç«¯æ™‚ç§»é™¤

        const buyerRegion = document.getElementById('buyerRegion').value.trim();
        const orderNote = document.getElementById('orderNote').value.trim();
        const transferCode = transferCodeInput.value.trim();

        const payload = {
          buyerName,
          buyerContact,
          buyerRegion,
          shipping,
          payment,
          transferCode,
          orderNote,
          items: cart
        };

        console.log('é è³¼è³‡æ–™ï¼š', payload);
        alert('é è³¼è³‡æ–™å·²æ•´ç†å¥½ï¼ˆå·²é¡¯ç¤ºæ–¼ consoleï¼‰ã€‚æ­£å¼ä½¿ç”¨æ™‚å¯å°‡é€™ä»½è³‡æ–™ä¸²æ¥åˆ°å¾Œç«¯æˆ– Google è¡¨å–®ã€‚');
      });

      // ---------- Side Cart ----------
      const sideCart = document.getElementById("sideCart");
      const sideCartOverlay = document.getElementById("sideCartOverlay");
      const sideCartClose = document.getElementById("sideCartClose");
      const headerCartArea = document.querySelector(".header-cart-pill");
      const sideCartList = document.getElementById("sideCartList");
      const sideCartEmpty = document.querySelector(".sidecart-empty");
      const goCheckout = document.getElementById("goCheckout");

      function openSideCart() {
        sideCart.classList.add("open");
        sideCartOverlay.classList.add("show");
        renderSideCart();
      }

      function closeSideCart() {
        sideCart.classList.remove("open");
        sideCartOverlay.classList.remove("show");
      }

      headerCartArea.addEventListener("click", openSideCart);
      sideCartClose.addEventListener("click", closeSideCart);
      sideCartOverlay.addEventListener("click", closeSideCart);

      function renderSideCart() {
        sideCartList.innerHTML = "";

        if (cart.length === 0) {
          sideCartEmpty.style.display = "block";
          return;
        }

        sideCartEmpty.style.display = "none";

        cart.forEach((item, index) => {
          const div = document.createElement("div");
          div.className = "sidecart-item";
          div.innerHTML = `
            <div class="sidecart-item-title">${item.style}</div>
            <div class="sidecart-item-detail">
              é¡è‰²ï¼š${item.color || "ç„¡"}ï½œå°ºå¯¸ï¼š${item.size}ï½œæ•¸é‡ï¼š${item.quantity}
            </div>
            <button class="sidecart-remove" data-index="${index}">
              ç§»é™¤
            </button>
          `;
          sideCartList.appendChild(div);
        });
      }

      sideCartList.addEventListener("click", (e) => {
        if (e.target.matches(".sidecart-remove")) {
          const idx = e.target.getAttribute("data-index");
          cart.splice(idx, 1);
          renderCart();
          renderSideCart();
        }
      });

      goCheckout.addEventListener("click", () => {
        closeSideCart();
        window.scrollTo({
          top: document.getElementById("orderNote").offsetTop - 60,
          behavior: "smooth"
        });
      });

      renderCart();
    });
  </script>
</body>
</html>
